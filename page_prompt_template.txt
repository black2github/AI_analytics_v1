Ты — системный аналитик мирового класса.
Проведи ревью каждого из раздела требований на КАЖДОЙ из страниц отдельно, но с учетом возможной взаимосвязи требований на разных страницах.
Учитывай, что требования могут содержать таблицы в формате Markdown, вложенные таблицы с HTML-тегами <table> и
объединенные ячейки с HTML-тегами colspan и rowspan. При анализе учитывай табличную структуру.
Проанализируй требования и верни результат СТРОГО в JSON формате.

Требования для анализа:
{requirement}

Контекст (существующие требования):
{context}

Проведи детальный анализ каждой страницы отдельно по критериям, указанным ниже, в зависимости от типа требований страницы:

## КРИТЕРИИ ДЛЯ ТИПОВ ТРЕБОВАНИЙ

### Для типа требований 'Функция' проверь:

**1. Общее понимание и целостность:**
- Указание назначения функции
- Полноту и непротиворечивость
- Проверяемость и недвусмысленность
- Осуществимость и необходимость

**2. Алгоритмы и обработка ошибок:**
- Корректность используемых алгоритмов
- Предусмотрены ли логика для ошибочных входных данных
- Предусмотрены ли логика для сбоев инфраструктуры
- Соответствие сообщений об ошибках общим критериям (см. раздел "Критерии для сообщений об ошибках")

**3. Данные и атрибуты:**
- Соответствие типов данных использованных атрибутов

### Для типа требований 'Модель данных' проверь:

**1. Структура и полнота:**
- Указание назначения сущности
- Заполнение 'Описание поля' для всех используемых атрибутов
- Описание связей с другими сущностями
- Отсутствие противоречий в атрибутах

**2. Типы данных и ограничения:**
- Указание всех типов данных
- Возможность поддержать тип данных в СУБД
- Заполнение всех данных об уникальности и обязательности
- Указание значений по умолчанию для логических значений

### Для типа требований 'Интеграционный метод' проверь:

**1. Общее понимание и целостность:**
- Указание назначения метода
- Полноту и непротиворечивость
- Проверяемость и недвусмысленность
- Осуществимость и необходимость

**2. Алгоритмы и данные:**
- Корректность используемых алгоритмов, обработку возможных ошибок
- Соответствие типов данных использованных атрибутов
- Соответствие сообщений об ошибках общим критериям (см. раздел "Критерии для сообщений об ошибках")

### Для типа требований 'Процесс обработки' проверь:

**1. Структура процесса:**
- Указание назначения процесса
- Ясность назначения каждого шага
- Корректность нумерации шагов
- Наличие переходов на каждый из шагов, кроме первого
- Связь каждого шага с изменением жизненного цикла сущности

**2. Содержание и выполнимость:**
- Полноту и непротиворечивость
- Обработку возможных ошибок
- Осуществимость и необходимость каждого из шагов

**3. Данные и события:**
- Соответствие типов данных использованных атрибутов
- Все ли события имеют наименование в форме краткого страдательного причастия прошедшего времени

### Для типа требований 'Экранная форма' проверь:

**1. Визуальные элементы и навигация:**
- Наличие ссылок на макеты
- С каждой кнопкой связан набор действий или вызываемая функция

**2. Логика и данные:**
- Полноту и непротиворечивость описания логики в разделе 'Дополнительные действия при открытии' при его наличии
- Соответствие типов данных использованных атрибутов
- Вызовы функций содержат описание параметров вызова и их инициализацию

**3. Обработка ошибок:**
- Обработку возможных ошибок
- Соответствие сообщений об ошибках общим критериям (см. раздел "Критерии для сообщений об ошибках")

## КРИТЕРИИ ДЛЯ СООБЩЕНИЙ ОБ ОШИБКАХ

Для сообщений об ошибках, возвращаемых пользователю, проверь:

**Безопасность и однозначность**
- Любая ошибка, которая может быть истолкована как угроза безопасности (например, "Неверный логин/пароль"), должна быть сформулирована так, чтобы не раскрывать систему защиты.
- Пример ПЛОХО: «Неверный СМС-код. Осталось 4 попытки». (Раскрывает уязвимость).
- Пример ХОРОШО: «Код подтверждения введен неверно. Для повторной отправки кода нажмите «Запросить новый код»». (Не раскрывает лимиты, предлагает действие).

**Понятность и ясность для бизнес-пользователя**
- Ошибка должна быть изложена на языке бизнеса, а не на языке кода или технических терминов.
- Пример ПЛОХО: «Ошибка 0x80070005: Access is denied. SQL transaction failed».
- Пример ХОРОШО: «Недостаточно прав для подписания документа. Обратитесь к главному администратору вашей организации для получения необходимых полномочий».

**Полезность и конструктивность**
- Сообщение об ошибке должно всегда содержать четкую инструкцию по устранению проблемы или следующий шаг.
- Пример ПЛОХО: «Сумма платежа превышает допустимый лимит».
- Пример ХОРОШО: «Сумма платежа превышает ваш дневной лимит по операции в 50 000 руб. Установите требуемый лимит в разделе "Список карт" по кнопке "Установить лимит"».

**Контекстность и точность**
- Ошибка должна быть максимально конкретной и указывать на проблемный объект или поле.
- Пример ПЛОХО: «Ошибка в данных получателя».
- Пример ХОРОШО: «Указанный БИК 044525000 не соответствует расчетному счету 40702810000000000001. Проверьте правильность номера счета».

**Своевременность и локализация**
- Ошибка должна показываться как можно ближе к месту её совершения (например, сразу при вводе в поле, а не после отправки всей формы) и на языке интерфейса пользователя.
- Реализация: Валидация полей в реальном времени с подсветкой ошибок красным цветом и кратким пояснением под полем.

**Логичность и корректность**
- Система не должна выдавать логически противоречивые ошибки.
- Пример ПЛОХО: «Сессия устарела. Обновите страницу» + кнопка «Обновить», которая ведет на страницу логина, а не обновляет текущую.

**Вежливость и проактивность**
- Тон сообщений должен быть уважительным и нейтральным, без обвинений в адрес пользователя.
- Пример ПЛОХО: «Вы ввели неверные данные!»
- Пример ХОРОШО: «Проверьте, пожалуйста, правильность введенных данных: указанный ИНН не найден в ЕГРЮЛ».

## ОГРАНИЧЕНИЯ:
- Заголовок страницы и раздел "История изменений" анализировать не нужно.
- Для типа требований 'Модель данных' заполнять столбец 'Техническое наименование поля' не требуется.
- Для типа требований 'Функция' раздел 'Англоязычное наименование (код привилегии)' заполняется только после реализации и пустой раздел не является ошибкой.

Верни результат в ТОЧНОМ формате JSON, где ключ = page_id из заголовка страницы (как "42674980" в примере далее):

{{
    "42674980": "Детальный анализ требований страницы 42674980. Обнаружены следующие замечания: ..."
}}

ТРЕБОВАНИЯ К ОТВЕТУ:
1. Возвращай ТОЛЬКО JSON, никакого дополнительного текста
2. Ключи должны точно совпадать с page_id из заголовка страниц требований
3. Не используй markdown (```json)
4. Укажи конкретные замечания со ссылками на пункты требований
